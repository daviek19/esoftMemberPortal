<!DOCTYPE html>
<html lang="en-us" class="smart-style-0">
<head>
    <meta charset="utf-8">
    <title> Esoft Financials </title>
    <meta name="description" content="">
    <meta name="author" content="">

    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <!--testing timeout redirect-->
    <!--end test timeout redirect-->
    <!-- #CSS Links -->
    <!-- Basic Styles -->
    <link rel="stylesheet" type="text/css" media="screen" href="~/css/bootstrap.min.css">
    <link rel="stylesheet" type="text/css" media="screen" href="~/css/font-awesome.min.css">

    <!-- SmartAdmin Styles : Caution! DO NOT change the order -->
    <link rel="stylesheet" type="text/css" media="screen" href="~/css/smartadmin-production-plugins.min.css">
    <link rel="stylesheet" type="text/css" media="screen" href="~/css/smartadmin-production.min.css">
    <link rel="stylesheet" type="text/css" media="screen" href="~/css/smartadmin-skins.min.css">
    <link rel="stylesheet" type="text/css" media="screen" href="~/css/your_style.css">

    <!-- SmartAdmin RTL Support -->
    <link rel="stylesheet" type="text/css" media="screen" href="~/css/smartadmin-rtl.min.css">

    <!--toastr-->
    @Styles.Render("~/Content/toastr")

    <!-- We recommend you use "your_style.css" to override SmartAdmin
         specific styles this will also ensure you retrain your customization with each SmartAdmin update.
    <link rel="stylesheet" type="text/css" media="screen" href="css/your_style.css"> -->
    <!-- Demo purpose only: goes with demo.js, you can delete this css when designing your own WebApp -->
    <link rel="stylesheet" type="text/css" media="screen" href="~/css/demo.min.css">

    <!--Kendo UI-->
    <link rel="stylesheet" type="text/css" href="~/Content/kendo/2014.2.716/kendo.common-bootstrap.min.css" />
    <link href="@Url.Content("~/Content/kendo/2014.2.716/kendo.dataviz.min.css")" rel="stylesheet" type="text/css" />
    <link rel="stylesheet" type="text/css" href="~/Content/kendo/2014.2.716/kendo.bootstrap.min.css" />
    <link href="@Url.Content("~/Content/kendo/2014.2.716/kendo.dataviz.bootstrap.min.css")" rel="stylesheet" type="text/css" />
    <!---->
    <link rel="stylesheet" type="text/css" href="~/Content/chosen.css" />

    <!-- #FAVICONS -->
    <link rel="shortcut icon" href="~/img/favicon/favicon.ico" type="image/x-icon">
    <link rel="icon" href="~/img/favicon/favicon.ico" type="image/x-icon">

    <!-- #GOOGLE FONT -->
    <link rel="stylesheet" href="http://fonts.googleapis.com/css?family=Open+Sans:400italic,700italic,300,400,700">

    <!-- #APP SCREEN / ICONS -->
    <!-- Specifying a Webpage Icon for Web Clip
         Ref: https://developer.apple.com/library/ios/documentation/AppleApplications/Reference/SafariWebContent/ConfiguringWebApplications/ConfiguringWebApplications.html -->
    <link rel="apple-touch-icon" href="img/splash/sptouch-icon-iphone.png">
    <link rel="apple-touch-icon" sizes="76x76" href="img/splash/touch-icon-ipad.png">
    <link rel="apple-touch-icon" sizes="120x120" href="img/splash/touch-icon-iphone-retina.png">
    <link rel="apple-touch-icon" sizes="152x152" href="img/splash/touch-icon-ipad-retina.png">

    <!-- iOS web-app metas : hides Safari UI Components and Changes Status Bar Appearance -->
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">

    <!-- Startup image for web apps -->
    <link rel="apple-touch-startup-image" href="~/img/splash/ipad-landscape.png" media="screen and (min-device-width: 481px) and (max-device-width: 1024px) and (orientation:landscape)">
    <link rel="apple-touch-startup-image" href="~/img/splash/ipad-portrait.png" media="screen and (min-device-width: 481px) and (max-device-width: 1024px) and (orientation:portrait)">
    <link rel="apple-touch-startup-image" href="~/img/splash/iphone.png" media="screen and (max-device-width: 320px)">

    <!--DATA TABLES-->

    <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/buttons/1.2.1/css/buttons.dataTables.min.css">


    <!--jquery scripts-->
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
    <script>
        if (!window.jQuery) {
            document.write('<script src="/Scripts/libs/jquery-2.1.1.min.js"><\/script>');
        }
    </script>

    <script type="text/javascript" src="~/Scripts/chosen.jquery.min.js"></script>

    <!--end of jquery scripts-->
    <!--morris & raphael scripts-->
    <link rel="stylesheet" href="@Url.Content(@"~/Content/morrisJS/morris.css")" />
    <script src="@Url.Content(@"~/Scripts/raphael-min.js")"></script>
    <script src="@Url.Content(@"~/Content/MorrisJS/morris.min.js")"></script>
    <!--end of chart scripts-->
</head>

<!--
We configured the footer to remain constatnt.
This option will not be availble on user preferences setup script.
David & Cathy
-->
<body class="smart-style-0 fixed-page-footer">
    @{ Html.RenderPartial("_Header", RenderSection("topright", false)); }
    @*@{ Html.RenderPartialIf("_Aside", Request.IsAuthenticated); }*@
    @{Html.RenderPartial("_Aside");}
    <div id="main" role="main">
        @{ Html.RenderPartialIf("_Ribbon", true); }
        @RenderBody()
    </div>
    @if (true)
    {
        Html.RenderPartial("_Footer");
    }

    @{Html.RenderPartial("_Scripts");}

    @Styles.Render("~/Content/toastr")
    @Scripts.Render("~/bundles/toastr")
    @{Html.RenderPartial("_Toastr");}
    @RenderSection("Viewlevelscripts", required: false)
    <!--code to test time out-->
    @*<div id="timeout">
            <h1>
                Session About To Timeout
            </h1>
            <p>
                You will be automatically logged out in 2 minutes.<br />
                To remain logged in move your mouse over this window.
        </div>*@
    <!--end of timeout test-->

    <script type="text/javascript">

        // DO NOT REMOVE : GLOBAL FUNCTIONS!

        $(document).ready(function () {

            pageSetUp();

            // menu
            $("#menu").menu();

            /*
			 * AUTO COMPLETE AJAX
			 */

            function log(message) {
                $("<div>").text(message).prependTo("#log");
                $("#log").scrollTop(0);
            }

            $("#city").autocomplete({
                source: function (request, response) {
                    $.ajax({
                        url: "http://ws.geonames.org/searchJSON",
                        dataType: "jsonp",
                        data: {
                            featureClass: "P",
                            style: "full",
                            maxRows: 12,
                            name_startsWith: request.term
                        },
                        success: function (data) {
                            response($.map(data.geonames, function (item) {
                                return {
                                    label: item.name + (item.adminName1 ? ", " + item.adminName1 : "") + ", " + item.countryName,
                                    value: item.name
                                }
                            }));
                        }
                    });
                },
                minLength: 2,
                select: function (event, ui) {
                    log(ui.item ? "Selected: " + ui.item.label : "Nothing selected, input was " + this.value);
                }
            });

            /*
			 * Spinners
			 */
            $("#spinner").spinner();
            $("#spinner-decimal").spinner({
                step: 0.01,
                numberFormat: "n"
            });

            $("#spinner-currency").spinner({
                min: 5,
                max: 2500,
                step: 25,
                start: 1000,
                numberFormat: "C"
            });

            /*
			 * CONVERT DIALOG TITLE TO HTML
			 * REF: http://stackoverflow.com/questions/14488774/using-html-in-a-dialogs-title-in-jquery-ui-1-10
			 */
            $.widget("ui.dialog", $.extend({}, $.ui.dialog.prototype, {
                _title: function (title) {
                    if (!this.options.title) {
                        title.html("&#160;");
                    } else {
                        title.html(this.options.title);
                    }
                }
            }));


            /*
			* DIALOG SIMPLE
			*/

            // Dialog click
            $('#dialog_link').click(function () {
                $('#dialog_simple').dialog('open');
                return false;

            });

            $('#dialog_simple').dialog({
                autoOpen: false,
                width: 600,
                resizable: false,
                modal: true,
                title: "<div class='widget-header'><h4><i class='fa fa-warning'></i> Empty the recycle bin?</h4></div>",
                buttons: [{
                    html: "<i class='fa fa-trash-o'></i>&nbsp; Delete all items",
                    "class": "btn btn-danger",
                    click: function () {
                        $(this).dialog("close");
                    }
                }, {
                    html: "<i class='fa fa-times'></i>&nbsp; Cancel",
                    "class": "btn btn-default",
                    click: function () {
                        $(this).dialog("close");
                    }
                }]
            });

            /*
			* DIALOG HEADER ICON
			*/

            // Modal Link
            $('#modal_link').click(function () {
                $('#dialog-message').dialog('open');
                return false;
            });

            $("#dialog-message").dialog({
                autoOpen: false,
                modal: true,
                title: "<div class='widget-header'><h4><i class='icon-ok'></i> jQuery UI Dialog</h4></div>",
                buttons: [{
                    html: "Cancel",
                    "class": "btn btn-default",
                    click: function () {
                        $(this).dialog("close");
                    }
                }, {
                    html: "<i class='fa fa-check'></i>&nbsp; OK",
                    "class": "btn btn-primary",
                    click: function () {
                        $(this).dialog("close");
                    }
                }]

            });

            /*
			 * Remove focus from buttons
			 */
            $('.ui-dialog :button').blur();

            /*
			 * Just Tabs
			 */

            $('#tabs').tabs();

            /*
			 *  Simple tabs adding and removing
			 */

            $('#tabs2').tabs();

            // Dynamic tabs
            var tabTitle = $("#tab_title"), tabContent = $("#tab_content"), tabTemplate = "<li style='position:relative;'> <span class='air air-top-left delete-tab' style='top:7px; left:7px;'><button class='btn btn-xs font-xs btn-default hover-transparent'><i class='fa fa-times'></i></button></span></span><a href='#{href}'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; #{label}</a></li>", tabCounter = 2;

            var tabs = $("#tabs2").tabs();

            // modal dialog init: custom buttons and a "close" callback reseting the form inside
            var dialog = $("#addtab").dialog({
                autoOpen: false,
                width: 600,
                resizable: false,
                modal: true,
                buttons: [{
                    html: "<i class='fa fa-times'></i>&nbsp; Cancel",
                    "class": "btn btn-default",
                    click: function () {
                        $(this).dialog("close");

                    }
                }, {

                    html: "<i class='fa fa-plus'></i>&nbsp; Add",
                    "class": "btn btn-danger",
                    click: function () {
                        addTab();
                        $(this).dialog("close");
                    }
                }]
            });

            // addTab form: calls addTab function on submit and closes the dialog
            var form = dialog.find("form").submit(function (event) {
                addTab();
                dialog.dialog("close");
                event.preventDefault();
            });

            // actual addTab function: adds new tab using the input from the form above
            function addTab() {
                var label = tabTitle.val() || "Tab " + tabCounter, id = "tabs-" + tabCounter, li = $(tabTemplate.replace(/#\{href\}/g, "#" + id).replace(/#\{label\}/g, label)), tabContentHtml = tabContent.val() || "Tab " + tabCounter + " content.";

                tabs.find(".ui-tabs-nav").append(li);
                tabs.append("<div id='" + id + "'><p>" + tabContentHtml + "</p></div>");
                tabs.tabs("refresh");
                tabCounter++;

                // clear fields
                $("#tab_title").val("");
                $("#tab_content").val("");
            }

            // addTab button: just opens the dialog
            $("#add_tab").button().click(function () {
                dialog.dialog("open");
            });

            // close icon: removing the tab on click
            $("#tabs2").on("click", 'span.delete-tab', function () {

                var panelId = $(this).closest("li").remove().attr("aria-controls");
                $("#" + panelId).remove();
                tabs.tabs("refresh");
            });

            /*
			* ACCORDION
			*/
            //jquery accordion

            var accordionIcons = {
                header: "fa fa-plus",    // custom icon class
                activeHeader: "fa fa-minus" // custom icon class
            };

            $("#accordion").accordion({
                autoHeight: false,
                heightStyle: "content",
                collapsible: true,
                animate: 300,
                icons: accordionIcons,
                header: "h4",
            })

            /*
			 * PROGRESS BAR
			 */
            $("#progressbar").progressbar({
                value: 25,
                create: function (event, ui) {
                    $(this).removeClass("ui-corner-all").addClass('progress').find(">:first-child").removeClass("ui-corner-left").addClass('progress-bar progress-bar-success');
                }
            });

        })

    </script>
    <!-- Your GOOGLE ANALYTICS CODE Below -->
    <!--Code to test timeout-->
    <script type="text/javascript">
        // Set timeout variables.
        var timoutWarning = 120000; // Display warning in 2 Mins.
        var timoutNow = 60000; // Timeout in 1 mins.
        var url = "@Url.Action("LoginTimeout", "account", new { Area = "" })";

        var logoutUrl = url; //'http://localhost:57324/Account/LoginTimeout'; // URL to logout page.
        var returnUrl = $(location).attr('href');

        var warningTimer;
        var timeoutTimer;

        // Start timers.
        function StartTimers() {
            //  warningTimer = setTimeout("IdleWarning()", timoutWarning);
            // timeoutTimer = setTimeout("IdleTimeout()", timoutNow);
        }

        // Reset timers.
        function ResetTimers() {
            clearTimeout(warningTimer);
            clearTimeout(timeoutTimer);
            StartTimers();
            $("#timeout").dialog('close');
        }

        // Show idle timeout warning dialog.
        function IdleWarning() {
            $("#timeout").dialog({
                modal: true
            });
        }

        // Logout the user.
        function IdleTimeout() {
            var url = "@Url.Action("LoginTimeout", "account", new { Area = "" })";
            window.location.href = url;//'http://localhost:57324/Account/LoginTimeout';

        }

    </script>
    <!--end timeout test code-->
</body>

</html>